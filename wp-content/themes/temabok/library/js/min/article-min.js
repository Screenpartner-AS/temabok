"use strict";jQuery(window).bind("mousewheel",(function(){jQuery("html, body").stop(!0,!1)}));var progress=document.querySelector("#header-progress"),bar=progress.querySelector("#header-progress span"),timer=null;function percentRead(){var e=document.querySelector("#header-progress span").getAttribute("data-progress"),t=document.querySelector("#inner-content").scrollHeight-window.innerHeight,r=window.scrollY/t*100,n=r;return n=r>e?r>=100?100:r:e,e=r<=0?0:r,n}function updateProgressBar(){var e=percentRead();bar.style.width="".concat(e,"%"),bar.setAttribute("data-percent",e)}function setArticleStatusForUser(){null!==timer&&clearTimeout(timer),timer=setTimeout((function(){var e=percentRead(),t=jQuery("#article-post-id").val();jQuery.ajax({type:"POST",url:ajax_object.ajaxurl,data:{action:"sp_update_article_progress",read:e,post_id:t}}).success((function(e){console.log("Article reading progress updated"),console.log(e)})).fail((function(e){console.log(e.responseText),console.log("Request failed: "+e.statusText)}))}),500)}function viewJumpBackIn(){var e=document.querySelector("#header-progress span").getAttribute("data-progress"),t=document.querySelector("#inner-content").scrollHeight-window.innerHeight,r=window.scrollY/t*100,n=percentRead(),o=t/100*n,i=jQuery(".jump-back-in");r<n?(setTimeout((function(){i.addClass("active")}),1e3),i.find(".scroll-to-read").on("click",(function(e){e.preventDefault(),i.remove(),jQuery("html, body").animate({scrollTop:o},750)})),i.find(".close-notification").on("click",(function(e){e.preventDefault(),i.removeClass("active"),setTimeout((function(){i.remove()}),500)}))):i.removeClass("active")}window.addEventListener("scroll",(function(){return updateProgressBar()})),window.addEventListener("resize",(function(){return updateProgressBar()})),window.addEventListener("scroll",(function(){return setArticleStatusForUser()})),window.addEventListener("scroll",(function(){return viewJumpBackIn()})),updateProgressBar(),viewJumpBackIn(),jQuery.fn.extend({toggleText:function e(t,r){var n=this;return this.text()!=t&&this.text()!=r?this.text(t):this.text()==t?this.text(r):this.text()==r&&this.text(t),this}}),jQuery(document).ready((function(e){e(".create-quiz").on("click",(function(t){var r=e(this).text();e("#acf-form").toggleClass("active"),e(this).toggleText("Skjul Quiz-redigering","Opprett Quiz"),e("html, body").animate({scrollTop:e("#acf-form").offset().top-150},350),t.preventDefault()}))}));